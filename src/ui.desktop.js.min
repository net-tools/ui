'use strict';window.nettools=window.nettools||{};nettools.ui=nettools.ui||{};nettools.ui.desktop=nettools.ui.desktop||{};
nettools.ui.desktop.InputHelper=function(){function h(c,n){c=c||"    ";if(9==(n||window.event).keyCode){if((n||window.event).shiftKey)if(this.value.substring(this.selectionStart,this.selectionEnd),this.selectionStart!=this.selectionEnd){nettools.ui.desktop.InputHelper.textareaSelectParagraph(this);var m=this.value.substring(0,this.selectionStart),p=this.value.substring(this.selectionEnd);var r=this.value.substring(this.selectionStart,this.selectionEnd);r=r.replace(new RegExp("\n"+c,"g"),"\n").replace(new RegExp("^"+
c,"g"),"");this.value=m+r+p;this.setSelectionRange(m.length,m.length+r.length);if("function"===typeof this.onchange)this.onchange()}else{if(this.value.substr(this.selectionStart-c.length,c.length)==c&&(m=this.value.substring(0,this.selectionStart-c.length),r=this.value.substring(this.selectionStart,this.selectionEnd),p=this.value.substring(this.selectionEnd),this.value=m+r+p,this.setSelectionRange(m.length,m.length+r.length),"function"===typeof this.onchange))this.onchange()}else if(this.value.substring(this.selectionStart,
this.selectionEnd),this.selectionStart!=this.selectionEnd?(nettools.ui.desktop.InputHelper.textareaSelectParagraph(this),m=this.value.substring(0,this.selectionStart),p=this.value.substring(this.selectionEnd),r=this.value.substring(this.selectionStart,this.selectionEnd),r=c+r.replace(/\n/g,"\n"+c),this.value=m+r+p,this.setSelectionRange(m.length,m.length+r.length)):(m=this.value.substring(0,this.selectionStart),p=this.value.substring(this.selectionEnd),r=this.value.substring(this.selectionStart,this.selectionEnd),
this.value=m+c+r+p,this.setSelectionRange(m.length+c.length,m.length+c.length+r.length)),"function"===typeof this.onchange)this.onchange();this.focus();n.preventDefault();return!1}return!0}function l(c){var n=(c||window.event).keyCode;return!(c||window.event).ctrlKey||118!=n&&86!=n&&67!=n&&99!=n?!0:!1}return{textareaSelectParagraph:function(c,n){var m=c.value.substring(0,c.selectionStart);"\n"!=c.value.substr(c.selectionStart-1,1)&&c.setSelectionRange(m.lastIndexOf("\n")+1,c.selectionEnd);m=c.value.substring(c.selectionEnd);
if("\n"!=c.value.substr(c.selectionEnd,1)){var p=m.indexOf("\n");-1!=p?c.setSelectionRange(c.selectionStart,c.selectionEnd+p):c.setSelectionRange(c.selectionStart,c.selectionEnd+m.length)}n&&c.focus()},textareaTabBehavior:function(c,n){nettools.ui.desktop.InputHelper.inputAddKeyBehavior(c,h.bind(c,n))},inputNoCopyPasteBehavior:function(c){nettools.ui.desktop.InputHelper.inputAddKeyBehavior(c,l)},inputAddKeyBehavior:function(c,n){nettools.jscore.addEvent(c,"onkeydown",n)}}}();
nettools.ui.desktop.Tabs=class{constructor(h){this.params=h}output(h){h?this.params.outputTo=h:h=this.params.outputTo;this.params.orientation=this.params.orientation||"P";this.params.tabs=this.params.tabs||[];this.params.csrf=this.params.csrf||!1;this.params.id=this.params.id||h.id;"P"==this.params.orientation&&(this.params.portraitTabWidth=this.params.portraitTabWidth||"120px");var l="uiTabs"+this.params.orientation;h.classList.add(l+"Flex");var c=document.createElement("ul");c.className=l;"P"==
this.params.orientation&&(c.style.width=this.params.portraitTabWidth);var n=this,m=function(r){n.selectTab(this);return!1};for(l=0;l<this.params.tabs.length;l++){this.params.tabs[l].id=this.params.tabs[l].id||this.params.tabs[l].title;var p=document.createElement("li");p.id=this.params.id+"_"+this.params.tabs[l].id;p.innerHTML=this.params.tabs[l].title;p.onclick=m;c.appendChild(p)}h.appendChild(c);c=document.createElement("div");c.id=this.params.id+"Content";c.className="uiTabs"+this.params.orientation+
"Content";for(l=0;l<this.params.tabs.length;l++)m=document.createElement("div"),m.id=this.params.id+"_"+this.params.tabs[l].id+"Content",m.style.visibility="hidden",m.style.display="none",p=document.createElement("iframe"),p.src=this.params.csrf?nettools.jscore.SecureRequestHelper.addCSRFHashedValue(this.params.tabs[l].url):this.params.tabs[l].url,p.frameBorder=0,p.marginHeight=0,p.marginWidth=0,p.style.width="100%",p.style.height="100%",m.appendChild(p),c.appendChild(m);h.appendChild(c);this.init()}init(){var h=
this.params.outputTo.querySelector("ul");h.firstChild.className="uiTabSelected";h.setAttribute("data-selected",h.firstChild.id);h=document.getElementById(h.firstChild.id+"Content");h.style.visibility="visible";h.style.display="block"}selectTab(h){var l="string"==typeof h?document.getElementById(this.params.id+"_"+h):h;if(l){var c=l.parentNode;if(""===l.className){if(h=c.getAttribute("data-selected"))document.getElementById(h).className="",h=document.getElementById(h+"Content"),h.style.visibility=
"hidden",h.style.display="none";l.className="uiTabSelected";c.setAttribute("data-selected",l.id)}h=document.getElementById(l.id+"Content");h.style.visibility="visible";h.style.display="block";return h}}getSelectedTabId(){return this.params.outputTo.querySelector("ul").getAttribute("data-selected")}getTabContentNode(h){if(h="string"==typeof h?document.getElementById(this.params.id+"_"+h):h)return document.getElementById(h.id+"Content")}};
nettools.ui.desktop.dialog=nettools.ui.desktop.dialog||function(){function h(a,b){a.onsubmit=function(){b.onclick();return!1};var d=a.ownerDocument.createElement("input");d.type="submit";d.style.display="none";d.style.visibility="hidden";a.appendChild(d)}function l(a){return r[a]||(r[a]=p(a))}function c(a){n(a,"hidden")}function n(a,b){l(a).nodecenter.style.visibility=b||"visible"}function m(a,b,d){a=l(a);a.node.style.height=null;a.node.style.width=null;a.node.className=a.node.className.replace(/ (uiDialogVCentered|uiDialogTopAligned)/g,
"");b||d?(d=new nettools.ui.Size(d),b=new nettools.ui.Size(b),d.isNull()||(d.isPositive()?(a.node.className+=" uiDialogVCentered",0<d.size&&(a.node.style.height=d.toString())):(a.node.className+=" uiDialogTopAligned",-1!=d.size&&(a.node.style.height=d.negate().toString()))),b.isNull()||(a.node.style.width=b.toString())):a.node.className+=" uiDialogVCentered"}function p(a){var b=`<div class="uiDialogButtons"><input type="button" value="${nettools.ui.desktop.dialog.i18n.BUTTON_OK}">&nbsp;&nbsp;&nbsp;<input type="button" value="${nettools.ui.desktop.dialog.i18n.BUTTON_CANCEL}"></div>`;
switch(a){case "richedit_div":return document.body.insertAdjacentHTML("afterbegin",`
					<div class="uiDialogWrapper" style="visibility:hidden;">
						<div class="uiForm uiDialog uiRichEditCadre">
							<form>
								<textarea style="visibility:hidden;" name="dialog_rte"></textarea>
								${b}
							</form>
						</div>
					</div>
					`),a=document.body.firstElementChild,{nodecenter:a,node:a.firstElementChild,textarea:a.querySelector("textarea"),ok:a.getElementsByTagName("input")[0],cancel:a.getElementsByTagName("input")[1]};case "dialog_div":return document.body.insertAdjacentHTML("afterbegin",`
					<div class="uiDialogWrapper" style="visibility:hidden;">
						<div class="uiForm uiDialog uiDialogCadre">
							<div class="uiDialogContent">
								<iframe frameborder="0" marginheight="0" marginwidth="0">...</iframe>
							</div>
							${b}
						</div>
					</div>
					`),a=document.body.firstElementChild,b=a.querySelector("iframe"),b.onload=function(){var d=this.contentDocument?this.contentDocument:this.contentWindow.document;d&&d.forms[0]&&h(d.forms[0],l("dialog_div").ok)},{nodecenter:a,node:a.firstElementChild,iframe:b,ok:a.getElementsByTagName("input")[0],cancel:a.getElementsByTagName("input")[1]};case "customdialog_div":return document.body.insertAdjacentHTML("afterbegin",`
					<div class="uiDialogWrapper" style="visibility:hidden;">
						<div class="uiForm uiDialog uiCustomDialogCadre">
							<div class="uiDialogContent"></div>
							${b}
						</div>
					</div>
					`),a=document.body.firstElementChild,{nodecenter:a,node:a.firstElementChild,content:a.querySelector(".uiDialogContent"),ok:a.getElementsByTagName("input")[0],cancel:a.getElementsByTagName("input")[1]};case "confirm_div":return document.body.insertAdjacentHTML("afterbegin",`
					<div class="uiDialogWrapper" style="visibility:hidden;">
						<div class="uiForm uiDialog uiConfirmCadre">
							<div class="uiDialogContent"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAppJREFUeNqkU0tPE1EY/e7M7UyBaZnCQKJAQVqDxMdCfBAjSuIDfMa4NHHFRl0aXejGR9yZkGiMO6OGH+BCFJWFLMREEiNKxAgmUNu0lFLaQimlnZnrd6dTGNbe5LR37nfOud+ce4cwxuB/BrV+dr8BEEQAIlAg5AAunUUEETU2bxHxBzEIjI0BM3UwDdAnzpQM7KECsOstjeqpgx1Nfq2mqlqWqMwL+by+Np/MZsa+hU/8jaSHcKkfkV7vAIcbXW91dbZe3NlW3xqNJoRHd7c4O5VvP1msV48EtYlfc+qXryFufId7C6W6ebwtqPUEW9RAPJ4SdN2AxwOTFt59ilmMYIMAyWRaCLR4A9ua1B6u2ejANHp3tdf7Y7EFUg51cLQI2ewKHN6zCHUVUZiaTsP4eAYopUTz1fpnZo1eTrMMmKEHJAreVKEAfPd0Jgu51VXo2OGGSyc1mJzJwauRHAgYiYn8YrHg5RpHBzou6pDLFyGznAcTWUSkcO+K3yo/eBEHKivrgZjgsjROg5n5hZXllYKoilIViDbx/I2Q9S9V+jadfT6/tsw1fF4K0TCGfv+MhD1elUluD3AQIsDo870W+Ly87pIVFg8vhLnG2cHwXCTWXaEoytbWYLOBN8p5Q6lUiUIPvpppRqanQulEYhhfcpjXrNTF5mf8JHyY5s1qre50Y1t7g+LTPC7ZLeP260Y/Pn74vpRMvMWAHuLNTRmhvpIBQRLxngOi9FDcphMv1QXkb0fU8k24uPvytUMjA08/g0iPsux7nS29BktbNigPIuEn4ApsJMZMEUjjMWzzvvWce9nJSvltMiB2Hi4eug3ZhsuC2LUPhP1Xodjfh88pRBK1OaeBYEO0QR3zco3zDH6SvBfUFv8JMAAv8hiRfYAaWQAAAABJRU5ErkJggg==" height="16" width="16" align="absmiddle"> <span class="uiPromptLib"></span></div>
							${b}
						</div>
					</div>
					`),a=document.body.firstElementChild,{nodecenter:a,node:a.firstElementChild,lib:a.querySelector("span.uiPromptLib"),ok:a.getElementsByTagName("input")[0],cancel:a.getElementsByTagName("input")[1]};case "notify_div":return document.body.insertAdjacentHTML("afterbegin",`
					<div class="uiDialogWrapper" style="visibility:hidden;">
						<div class="uiForm uiDialog uiConfirmCadre">
							<div class="uiDialogContent"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAjBJREFUeNqkk0trE1EUx8/cO49OfGTSRNJMYsA0aVonoYh13YW71uJCKFQhKqibfgFLwYULsR/AhY+VG1d+C124kJiFIGipmoIZNUXtZDKTycz1njGpaRNU8MJv7txzzv/c5xEYY/A/TRQEAW5c5KwM+aKcR73/a5zvg84HT371wv07Apwuj0x+PZW/vArA4NO7x/f4+OGoIHLKAAiC/fBdHadSbCGZPTeTzC7OUElbQNvBOISMMnIqeqFSYs57mTkfZD1/qYS2f0rAZ5pVDmXnY/FSbn3jM6xvfAEtfjKnRDLz6BtK4PPPADi+ms6vGK71lti2DUintUVSJ84b6OvF7GlI4PNMPVgAZ49oxpyqRnXf+wGWZYX4ngWRiKYfPpqfw5hBjej7eweqCkSo6JOLhmd/hI7vQLVaBdM0YXt1FgK2CeJ40fCbmxUWsGc8vh3egtcFQPhyLsQnzpQJcbVmuw5mawtqtRo0Gg3wJQeY7ALIrqZEM2WM7esIPkROAgR5OZEpTTV3X4IXNEGiLnw1b4fItBNCBQuiqeQUA7qMGtSSLt8C38aVRLo47QVvVJFYoFAnJJG8FdIfI6rSVWMTx6ZRg1rS7UKeSspSMj2Wk+AbjPGZ+vTboA1JZbQcEcUl1Iq2zdZyxURBpruUMTzR38Vl79wM+9bO0/3vlwLVs+OF16/MNdFug/vi+Xadm+vDL/3uHyuR16Er4E3gKvEaOTLa/1LBuEQPF8hxfgowAINnMqTBUH7hAAAAAElFTkSuQmCC" height="16" width="16" align="absmiddle"> <span class="uiPromptLib"></span></div>
							<div class="uiDialogButtons"><input type="submit" value="${nettools.ui.desktop.dialog.i18n.BUTTON_OK}"></div>
						</div>
					</div>
					`),a=document.body.firstElementChild,{nodecenter:a,node:a.firstElementChild,lib:a.querySelector("span.uiPromptLib"),ok:a.getElementsByTagName("input")[0]};case "prompt_div":return document.body.insertAdjacentHTML("afterbegin",`
					<div class="uiDialogWrapper" style="visibility:hidden;">
						<div class="uiForm uiDialog uiPromptCadre">
							<div class="uiDialogContent">
								<div class="uiPromptLib"></div>
								<form><input type="text" name="value" class="uiPromptValue" onkeydown="if (event.keyCode === 27) _hide(PROMPT);"></form>
							</div>
							${b}
						</div>
					</div>
					`),a=document.body.firstElementChild,b=a.querySelector("form"),h(b,a.querySelector('input[type="button"]:first-child')),{nodecenter:a,node:a.firstElementChild,lib:a.querySelector("div.uiPromptLib"),input:a.querySelector("input.uiPromptValue"),form:b,ok:a.querySelectorAll(".uiDialogButtons input")[0],cancel:a.querySelectorAll(".uiDialogButtons input")[1]};case "textarea_div":return document.body.insertAdjacentHTML("afterbegin",`
					<div class="uiDialogWrapper" style="visibility:hidden;">
						<div class="uiForm uiDialog uiTextAreaCadre">
							<div class="uiDialogContent">
								<div class="uiTextAreaLib"></div>
								<form><textarea class="uiTextAreaValue"></textarea></form>
							</div>
							${b}
						</div>
					</div>
					`),a=document.body.firstElementChild,{nodecenter:a,node:a.firstElementChild,lib:a.querySelector("div.uiTextAreaLib"),input:a.querySelector("textarea"),form:a.querySelector("form"),ok:a.querySelectorAll(".uiDialogButtons input")[0],cancel:a.querySelectorAll(".uiDialogButtons input")[1]};case "dynamicform_div":return document.body.insertAdjacentHTML("afterbegin",'\n\t\t\t\t\t<div class="uiDialogWrapper" style="visibility:hidden;">\n\t\t\t\t\t\t<div class="uiForm uiDialog uiDynamicFormCadre">\n\t\t\t\t\t\t\t<div class="uiDialogContent">\n\t\t\t\t\t\t\t\t<form></form>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t'),
a=document.body.firstElementChild,{nodecenter:a,node:a.firstElementChild,form:a.querySelector("form")}}}var r={};return{ALIGN_CENTER:0,ALIGN_DEFAULT:null,ALIGN_TOP:-1,alignTop:function(a){a=new nettools.ui.Size(a);return a.isPositive()?a.negate().toString():a.toString()},center:function(a){a=new nettools.ui.Size(a);return a.isNegative()?a.negate().toString():a.toString()},richEditPromise:function(a,b,d){return new Promise(function(k,g){nettools.ui.desktop.dialog.richEdit(a,b,d,k,g)})},richEdit:function(a,
b,d,k,g){if(window.tinymce){var e=l("richedit_div");e.node.className=e.node.className.replace(/ (uiDialogVCentered|uiDialogTopAligned|uiRichEditCadreWMax)/g,"");e.node.style.width=null;b?e.node.style.width=(new nettools.ui.Size(b)).toString():e.node.className+=" uiRichEditCadreWMax";b=new nettools.ui.Size(d);if(b.isNull()||b.isPositive()||"px"!=b.unit)e.node.className+=" uiDialogVCentered";b.isNegative()&&"px"==b.unit&&(e.node.className+=" uiDialogTopAligned",b=b.negate());"px"!=b.unit&&(b=new nettools.ui.Size(null));
e.textarea.value=a;tinymce.init({target:e.textarea,setup:function(q){q.on("init",function(f){e.ok.onclick=function(){c("richedit_div");var t=q.getContent();try{q.remove()}catch(u){}k&&"function"===typeof k&&k(t);return!1};e.cancel.onclick=function(){c("richedit_div");try{q.remove()}catch(t){}g&&"function"===typeof g&&g()}})},height:(b.isNull()?window.innerHeight-140:b.size)+"px",remove_script_host:!1,relative_urls:!1,plugins:"lists advlist anchor autolink charmap code fullscreen link nonbreaking paste print preview quickbars searchreplace visualblocks visualchars",
toolbar:"undo redo | forecolor backcolor bold italic | alignleft aligncenter alignright alignjustify | outdent indent bullist numlist | preview code | charmap nonbreaking"});n("richedit_div")}else nettools.ui.desktop.dialog.prompt("TINYMCE missing !",a,k,!0)},notifyPromise:function(a,b,d){return new Promise(function(k,g){nettools.ui.desktop.dialog.notify(a,k,b,d)})},notify:function(a,b,d,k){var g=l("notify_div");g.lib.innerHTML=a;m("notify_div",d,k!=nettools.ui.desktop.dialog.ALIGN_DEFAULT?k:nettools.ui.desktop.dialog.ALIGN_TOP);
g.ok.onclick=function(){c("notify_div");b&&"function"===typeof b&&b();return!1};n("notify_div");g.ok.focus()},confirmPromise:function(a,b,d){return new Promise(function(k,g){nettools.ui.desktop.dialog.confirm(a,k,b,d,g)})},confirm:function(a,b,d,k,g){var e=l("confirm_div");e.lib.innerHTML=a;m("confirm_div",d,k!=nettools.ui.desktop.dialog.ALIGN_DEFAULT?k:nettools.ui.desktop.dialog.ALIGN_TOP);e.ok.onclick=function(){c("confirm_div");b&&"function"===typeof b&&b();return!1};e.cancel.onclick=function(){c("confirm_div");
g&&"function"===typeof g&&g()};n("confirm_div");e.ok.focus()},showPromise:function(a,b,d,k,g){return new Promise(function(e,q){nettools.ui.desktop.dialog.show(a,b,d,function(f,t,u){e({form:f,elements:t})},k,q,g)})},show:function(a,b,d,k,g,e,q){var f=l("dialog_div");void 0===q&&(q=!0);m("dialog_div",b,d);f.ok.onclick=function(){if(g&&"function"===typeof g&&!g(f.iframe.contentDocument?f.iframe.contentDocument:f.iframe.contentWindow.document))return!1;c("dialog_div");var t=f.iframe.contentDocument?f.iframe.contentDocument:
f.iframe.contentWindow.document;nettools.jscore.SubmitHandlers.Callback.toSubmitHandler(k).submit(t.forms[0],t.forms[0].elements);return!1};f.cancel.onclick=function(){c("dialog_div");e&&"function"===typeof e&&e()};q?(f.cancel.style.visibility="inherit",f.cancel.style.display="inline"):(f.cancel.style.visibility="hidden",f.cancel.style.display="none");f.iframe.src="";window.setTimeout(function(){f.iframe.src=a},100);n("dialog_div")},showAndSubmit:function(a,b,d,k,g){nettools.ui.desktop.dialog.show(a,
b,d,new nettools.jscore.SubmitHandlers.Post({target:a}),function(e){return k&&"function"===typeof k?k(e):!0},g)},dynamicForm:function(a,b,d,k,g){a.target=l("dynamicform_div").form;a.target.innerHTML="";var e=l("dynamicform_div").node.querySelector("div.uiDialogButtons");e&&e.parentNode.removeChild(e);a.target.className="uiForm";b&&b.split(/ /).forEach(function(f){a.target.classList.add(f)});a.submit=nettools.jscore.SubmitHandlers.Callback.toSubmitHandler(a.submit).customEvent(function(f,t){c("dynamicform_div")});
var q=a.cancel;a.cancel=function(f){"function"===typeof q&&q(f);c("dynamicform_div")};nettools.ui.FormBuilder.createForm(a);m("dynamicform_div",d,k);a.target.firstChild.style.marginTop="0px";e=a.target.querySelector(".FormBuilderButtons");e.className="uiDialogButtons";l("dynamicform_div").node.appendChild(e);e.insertBefore(document.createTextNode("\u00a0\u00a0\u00a0"),e.lastChild);e.firstChild.onclick=a.target.onsubmit;h(a.target,e.firstChild);n("dynamicform_div");a.target.elements[0].focus&&a.target.elements[0].focus();
"function"==typeof g&&g(a.target,a.target.elements)},customDialogPromise:function(a,b,d,k,g){return new Promise(function(e,q){nettools.ui.desktop.dialog.customDialog(a,b,d,e,k,q,g)})},customDialog:function(a,b,d,k,g,e,q){var f=l("customdialog_div");void 0===q&&(q=!0);f.content.innerHTML="";"function"===typeof a?a(f.content):f.content.innerHTML=a;m("customdialog_div",b,d);f.content.firstChild.style.marginTop="0px";f.ok.onclick=function(){if(g&&"function"===typeof g&&!g(f.content))return!1;c("customdialog_div");
k&&"function"===typeof k&&k(f.content);return!1};f.cancel.onclick=function(){c("customdialog_div");e&&"function"===typeof e&&e(f.content)};q?(f.cancel.style.visibility="inherit",f.cancel.style.display="inline"):(f.cancel.style.visibility="hidden",f.cancel.style.display="none");(a=f.content.querySelector("form"))&&h(a,f.ok);n("customdialog_div");(a=f.content.querySelector("input"))&&"function"==typeof a.focus?a.focus():f.ok.focus()},customNotifyPromise:function(a,b,d){return new Promise(function(k,
g){nettools.ui.desktop.dialog.customNotify(a,b,d,k)})},customNotify:function(a,b,d,k){if(!b){var g=document.createElement("div");g.className="uiNotifyCadre";g.style.display="none";g.style.visibility="hidden";document.body.appendChild(g);b=getComputedStyle(g).width;document.body.removeChild(g)}nettools.ui.desktop.dialog.customDialog(a,b,d!=nettools.ui.desktop.dialog.ALIGN_DEFAULT?d:nettools.ui.desktop.dialog.ALIGN_TOP,k,null,null,!1)},promptPromise:function(a,b,d,k){return new Promise(function(g,e){nettools.ui.desktop.dialog.prompt(a,
b,g,d,k,e)})},prompt:function(a,b,d,k,g,e){var q=k?"textarea_div":"prompt_div",f=l(q);f.lib.innerHTML=a;f.input.value=b;f.input.className=g?"uiPromptValue "+g:"uiPromptValue";m(q,nettools.ui.desktop.dialog.ALIGN_DEFAULT,k?nettools.ui.desktop.dialog.ALIGN_CENTER:nettools.ui.desktop.dialog.ALIGN_TOP);f.ok.onclick=function(){c(q);if(d){if("function"===typeof d){var t=d;d=new nettools.jscore.SubmitHandlers.Callback({target:function(u,v){t(v[0].value)}})}}else d=new nettools.jscore.SubmitHandlers.Callback.dummy;
d.submit(f.form,[f.input]);return!1};f.cancel.onclick=function(){c(q);e&&"function"===typeof e&&e()};n(q);f.input.focus()}}}();nettools.ui.desktop.dialog.i18n={BUTTON_OK:" OK ",BUTTON_CANCEL:"Cancel"};